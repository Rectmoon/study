<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html,
      body {
        height: 100%;
        margin: 0px;
      }
    </style>
  </head>
  <body style="height:100%;">
    <div
      id="container"
      onclick="changeColor();"
      style="width:100%; height:100%; background-color:rgb(204, 102, 0);"
    >
      click to change color
    </div>
    <script type="text/javascript">
      var container = document.getElementById('container')
      // iframe接收消息，并把当前颜色发送给主页面
      changeColor()
      // 点击iframe时触发changeColor方法，把变化后的颜色发送给主页面
      function changeColor() {
        var color = container.style.backgroundColor
        if (color == 'rgb(204, 102, 0)') color = 'rgb(204, 204, 0)'
        else color = 'rgb(204,102,0)'
        container.style.backgroundColor = color
        console.log('start post color ..............')
        window.parent.postMessage(color, '*')
      }
    </script>
  </body>
</html>
